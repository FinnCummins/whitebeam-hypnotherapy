---
import SlideCard from "./SliderCard.astro";
---

<div id="testimonial-swiper" client:load={initializeSwiper} class="swiper swiper-container-3d my-16 overflow-visible">
  <div class="swiper-wrapper p-4 md:p-0"> 
    <!-- Slides -->
    <div class="swiper-slide"><SlideCard title="Amazing experience" text="Hey my name is Aisling Cranley" src="WhitebeamLogo.jpg"/></div>
    <div class="swiper-slide"><SlideCard title="Amazing experience" text="Hey my name is Aisling Cranley" src="WhitebeamLogo.jpg"/></div>
    <div class="swiper-slide"><SlideCard title="Amazing experience" text="Hey my name is Aisling Cranley" src="WhitebeamLogo.jpg"/></div>
  </div>

  <div class="swiper-button-prev hover:bg-slate-200"></div>
  <div class="swiper-button-next hover:bg-slate-200"></div>
</div>

<script type="module">
  import { Swiper, Autoplay, Navigation, EffectCoverflow } from "https://cdn.skypack.dev/swiper";
  
  export function initializeSwiper() {
    Swiper.use([Autoplay, Navigation, EffectCoverflow]);

    const swiper = new Swiper('#testimonial-swiper', {
      slidesPerView: 3,
      centeredSlides: true,
      loop: true,
      autoplay: {
        delay: 5000,
      },
      effect: 'coverflow',
      grabCursor: true,
      coverflowEffect: {
        rotate: 0,
        stretch: 0,
        depth: 100,
        modifier: 1,
        slideShadows: true,
      },
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
    });
  }
</script>

<style>
    #testimonial-swiper {
        width: 100%;
        height: auto;
    }
</style>
