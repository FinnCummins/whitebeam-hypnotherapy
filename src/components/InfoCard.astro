---

export interface props {
    title: string;
    text: string;
    src: string;
    delay: number;
}

const {title, text, src, delay} = Astro.props;
---

<div class=`info-card flex flex-col items-center text-center my-4 h-1/4 w-3/4 bg-wb-muted-mint rounded-lg p-8 opacity-0 transition-all transform ease-out delay-${delay} duration-1000 translate-y-10 hover:bg-wb-pale-peach md:w-1/4`>
    <h1 class="font-semibold mb-4">{title}</h1>
    <p>
        {text}
    </p>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const infoCards = document.getElementsByClassName("info-card");

            for (let i = 0; i < infoCards.length; i++)
            {
                const top = infoCards[i].getBoundingClientRect().top;

                if (top <= window.innerHeight) {
                    infoCards[i].classList.remove("opacity-0", "translate-y-10");
                    infoCards[i].classList.add("opacity-100", "translate-y-0");
                }
            }

        });

        window.addEventListener("scroll", function() {
            const infoCards = document.getElementsByClassName("info-card");

            for (let i = 0; i < infoCards.length; i++){
                const top = infoCards[i].getBoundingClientRect().top;

                if (top <= window.innerHeight + 200) {
                    infoCards[i].classList.remove("opacity-0", "translate-y-10");
                    infoCards[i].classList.add("opacity-100", "translate-y-0");
                }
            }
        })
    </script>
</div>